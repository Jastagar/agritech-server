"use strict";(self.webpackChunkagritech_client=self.webpackChunkagritech_client||[]).push([[37],{7037:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var r=s(9439),n=s(2791),c=s(3360),i=s(194),a=s(3938),o=s(6557),l=s(9737),d=s(1087),u=s(1618),h=s(6704),p=s(184);function m(){var e=(0,d.lr)(),t=(0,r.Z)(e,2),s=t[0],m=(t[1],(0,n.useState)(s.get("category")?s.get("category"):"all")),x=(0,r.Z)(m,2),g=x[0],f=x[1],j=(0,n.useContext)(a.Z),v=j.showCart,C=j.fetchShopContent,w=j.shopContent,y=(j.setContent,j.shopLoading),N=j.handleShow,Z=(j.categories,j.getCategories),k=(j.setSkip,j.setCart,(0,u.a)().theme);return(0,n.useEffect)((function(){C("",g)}),[g]),(0,n.useEffect)((function(){Z(),f(s.get("category")?s.get("category"):"all")}),[]),(0,p.jsx)("div",{className:"container-fluid theme-".concat(k),children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)(l.Z,{}),(0,p.jsxs)("div",{className:"col-md-10",children:[(0,p.jsx)(o.A,{show:v,handleShow:N,shopContent:w}),(0,p.jsx)("div",{className:"row",children:null===w||void 0===w?void 0:w.map((function(e){if(e.category.includes(g))return(0,p.jsx)(i.Z,{product:e},e._id)}))}),(0,p.jsx)(c.Z,{variant:"warning my-3",onClick:function(){C("",g)},disabled:y,children:y?"Loading...":"Load More"}),y?(0,p.jsx)("div",{className:"d-flex w-100 justify-content-center align-items-center",children:(0,p.jsx)(h.Z,{height:"200px",width:"200px"})}):(0,p.jsx)(p.Fragment,{})]})]})})}},194:function(e,t,s){s.d(t,{Z:function(){return j}});var r=s(4165),n=s(5861),c=s(9439),i=s(2791),a=s(3360),o=s(7689),l=s(3938),d=s(1618),u=s(2091),h=s(9085),p=s(3001),m=s(2830),x=s(5313),g=s(3236),f=s(184);var j=function(e){var t=(0,d.a)().theme,s=(0,i.useContext)(l.Z),j=s.addToCart,v=s.createOrder,C=(0,o.s0)(),w=(0,i.useState)(!1),y=(0,c.Z)(w,2),N=y[0],Z=y[1],k=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}),b=(0,i.useState)(!1),S=(0,c.Z)(b,2),O=S[0],L=S[1],T=(0,i.useState)({}),P=(0,c.Z)(T,2),_=P[0],B=P[1],F=(0,i.useRef)();function I(){L(!O)}function E(){return(E=(0,n.Z)((0,r.Z)().mark((function e(t){var s,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=_._id,Z(!0),e.next=5,v(s,F.current.value);case 5:!1===(n=e.sent).error&&h.Am.success(n.message,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),Z(!1),L(!O);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(e.product),(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"col-md-6 col-xl-3 p-2",children:[(0,f.jsxs)(m.Z,{show:O,onHide:I,backdrop:"static",keyboard:!1,size:"md",children:[(0,f.jsx)(m.Z.Header,{closeButton:!0,children:(0,f.jsxs)(m.Z.Title,{children:["Buy ",_.title," for ",_.price," KCO"]})}),(0,f.jsx)(m.Z.Body,{children:(0,f.jsxs)(x.Z,{onSubmit:function(e){return E.apply(this,arguments)},className:"form-control",children:[(0,f.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,f.jsxs)("fieldset",{className:"m-1",children:[(0,f.jsx)("label",{htmlFor:"passwordToPurchase",children:"Password"}),(0,f.jsx)("br",{}),(0,f.jsx)("input",{id:"passwordToPurchase",type:"password",ref:F,required:!0})]}),(0,f.jsxs)("div",{className:"alert alert-warning",children:["This action would deduct ",_.price," KCO from your wallet."]})]}),(0,f.jsxs)("div",{className:"text-end",children:[(0,f.jsx)(a.Z,{className:"mx-2",variant:"danger",onClick:I,children:"Cancel"}),(0,f.jsx)(a.Z,{className:"my-3",type:"submit",variant:"success",disabled:N,children:N?"Ordering...":"Confirm Purchase"})]})]})})]}),(0,f.jsx)(h.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,f.jsxs)("div",{className:"product-container h-100 shadow row flex-column justify-content-center theme-".concat(t," py-3"),children:[(0,f.jsx)("div",{className:"star-product",hidden:!e.product.recent,children:"Recently Watched"}),(0,f.jsx)("div",{onClick:function(){C("/agristore/product/"+e.product._id)},style:{backgroundImage:"url(".concat(e.product.imgUrl,")")},alt:e.product.title,className:"product-image"}),(0,f.jsx)("h5",{onClick:function(){C("/agristore/product/"+e.product._id)},children:e.product.title}),(0,f.jsx)("hr",{className:"style-two"}),(0,f.jsxs)("span",{children:["Price:",(0,f.jsx)(u.Z,{size:"30",adjustY:"-10%"}),(0,f.jsx)("span",{className:"price",children:k.format(e.product.price).replace("\u20b9","KCO ")}),"/-"]}),(0,f.jsx)("hr",{className:"style-two"}),(0,f.jsx)("div",{children:(0,f.jsx)(g.T,{rating:e.product.rating})}),(0,f.jsx)("div",{className:"overlay-box",children:(0,f.jsx)("div",{className:"inner d-flex justify-content-center align-items-center",children:(0,f.jsxs)("div",{className:"d-flex justify-content-around flex-column",children:[(0,f.jsx)("div",{children:(0,f.jsxs)(a.Z,{variant:"primary w-100",onClick:function(){j(e.product)},children:[(0,f.jsx)("img",{loading:"lazy",src:p.Z,alt:""})," Add To Cart"]})}),(0,f.jsx)("div",{className:"my-4",children:(0,f.jsx)(a.Z,{variant:"success p-2 w-100",onClick:function(){B(e.product),L(!O)},children:N?"Ordering...":"Buy Now"})}),(0,f.jsx)(a.Z,{variant:"outline-success w-100",onClick:function(){C("/agristore/product/"+e.product._id)},children:"View Details"})]})})})]})]})})}},9737:function(e,t,s){s.d(t,{Z:function(){return l}});var r=s(9439),n=s(2791),c=s(1087),i=s(1618),a=s(3938),o=s(184);function l(){var e=(0,c.lr)(),t=(0,r.Z)(e,2),s=t[0],l=t[1],d=(0,n.useState)(s.get("category")?s.get("category"):"all"),u=(0,r.Z)(d,2),h=u[0],p=u[1],m=(0,n.useContext)(a.Z),x=(m.showCart,m.fetchShopContent),g=(m.shopContent,m.setContent),f=(m.shopLoading,m.handleShow,m.categories),j=m.getCategories,v=m.setSkip;m.setCart,(0,i.a)().theme;(0,n.useEffect)((function(){x("",h)}),[h]),(0,n.useEffect)((function(){j(),p(s.get("category")?s.get("category"):"all")}),[]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("nav",{id:"sidebarMenu",className:"d-lg-block sidebar bg-white col-md-2 position-relative",children:(0,o.jsx)("div",{className:"side-position",children:(0,o.jsx)("div",{className:"list-group list-group-flush mx-3 mt-4",children:null===f||void 0===f?void 0:f.map((function(e,t){return(0,o.jsx)("li",{onClick:function(t){t.target.classList.add("active"),l({category:e.toLowerCase()}),p(e.toLowerCase()),g([]),v(0)},className:"list-group-item side-list ".concat(h===e.toLowerCase()?"active":""),children:e},t)}))})})})})}}}]);
//# sourceMappingURL=37.07e93e26.chunk.js.map