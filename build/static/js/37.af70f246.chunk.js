"use strict";(self.webpackChunkagritech_client=self.webpackChunkagritech_client||[]).push([[37],{7037:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var r=s(9439),n=s(2791),a=s(3360),c=s(194),i=s(3938),o=s(6557),l=s(9737),d=s(1087),u=s(1618),h=s(6704),m=s(184);function p(){var e=(0,d.lr)(),t=(0,r.Z)(e,2),s=t[0],p=(t[1],(0,n.useState)(s.get("category")?s.get("category"):"all")),x=(0,r.Z)(p,2),g=x[0],f=x[1],j=(0,n.useContext)(i.Z),v=j.showCart,y=j.fetchShopContent,C=j.shopContent,w=(j.setContent,j.shopLoading),N=j.handleShow,Z=(j.categories,j.getCategories),b=(j.setSkip,j.setCart,(0,u.a)().theme);return(0,n.useEffect)((function(){y("",g)}),[g]),(0,n.useEffect)((function(){Z(),f(s.get("category")?s.get("category"):"all")}),[]),(0,m.jsx)("div",{className:"container-fluid theme-".concat(b),children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)(l.Z,{}),(0,m.jsxs)("div",{className:"col-md-10",children:[(0,m.jsx)(o.A,{show:v,handleShow:N,shopContent:C}),(0,m.jsx)("div",{className:"row",children:null===C||void 0===C?void 0:C.map((function(e){if(e.category.includes(g))return(0,m.jsx)(c.Z,{product:e},e._id)}))}),(0,m.jsx)(a.Z,{variant:"warning my-3",onClick:function(){y("",g)},disabled:w,children:w?"Loading...":"Load More"}),w?(0,m.jsx)("div",{className:"d-flex w-100 justify-content-center align-items-center",children:(0,m.jsx)(h.Z,{height:"200px",width:"200px"})}):(0,m.jsx)(m.Fragment,{})]})]})})}},194:function(e,t,s){s.d(t,{Z:function(){return j}});var r=s(4165),n=s(5861),a=s(9439),c=s(2791),i=s(3360),o=s(7689),l=s(3938),d=s(1618),u=s(2091),h=s(9085),m=s(3001),p=s(2830),x=s(5313),g=s(6661),f=s(184);var j=function(e){var t=(0,d.a)().theme,s=(0,c.useContext)(l.Z),j=s.addToCart,v=s.createOrder,y=(0,o.s0)(),C=(0,c.useState)(!1),w=(0,a.Z)(C,2),N=w[0],Z=w[1],b=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}),k=(0,c.useState)(!1),O=(0,a.Z)(k,2),S=O[0],L=O[1],P=(0,c.useState)({}),T=(0,a.Z)(P,2),_=T[0],B=T[1],F=(0,c.useRef)();function I(){L(!S)}function E(){return(E=(0,n.Z)((0,r.Z)().mark((function e(t){var s,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=_._id,Z(!0),e.next=5,v(s,F.current.value);case 5:!1===(n=e.sent).error&&h.Am.success(n.message,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),Z(!1),L(!S);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"col-md-6 col-xl-3 p-2",children:[(0,f.jsxs)(p.Z,{show:S,onHide:I,backdrop:"static",keyboard:!1,size:"md",children:[(0,f.jsx)(p.Z.Header,{closeButton:!0,children:(0,f.jsxs)(p.Z.Title,{children:["Buy ",_.title," for ",_.price," KCO"]})}),(0,f.jsx)(p.Z.Body,{children:(0,f.jsxs)(x.Z,{onSubmit:function(e){return E.apply(this,arguments)},className:"form-control",children:[(0,f.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,f.jsxs)("fieldset",{className:"m-1",children:[(0,f.jsx)("label",{htmlFor:"passwordToPurchase",children:"Password"}),(0,f.jsx)("br",{}),(0,f.jsx)("input",{id:"passwordToPurchase",type:"password",ref:F,required:!0})]}),(0,f.jsxs)("div",{className:"alert alert-warning",children:["This action would deduct ",_.price," KCO from your wallet."]})]}),(0,f.jsxs)("div",{className:"text-end",children:[(0,f.jsx)(i.Z,{className:"mx-2",variant:"danger",onClick:I,children:"Cancel"}),(0,f.jsx)(i.Z,{className:"my-3",type:"submit",variant:"success",disabled:N,children:N?"Ordering...":"Confirm Purchase"})]})]})})]}),(0,f.jsx)(h.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,f.jsxs)("div",{className:"product-container h-100 shadow row flex-column justify-content-center theme-".concat(t),children:[(0,f.jsx)("div",{className:"star-product",hidden:!e.product.recent,children:"Recently Watched"}),e.product.availableQuantity<=5?(0,f.jsxs)("h5",{className:"text-danger qty-text",children:["Only ",e.product.availableQuantity," left"]}):"",(0,f.jsx)("div",{onClick:function(){y("/agristore/product/"+e.product._id)},style:{backgroundImage:"url(".concat(e.product.imgUrl,")")},alt:e.product.title,className:"product-image"}),(0,f.jsx)("h5",{onClick:function(){y("/agristore/product/"+e.product._id)},children:e.product.title}),(0,f.jsx)("hr",{className:"style-two"}),(0,f.jsxs)("span",{children:["Price:",(0,f.jsx)(u.Z,{size:"25",adjustY:"-10%"}),(0,f.jsx)("span",{className:"price",children:b.format(e.product.price).replace("\u20b9","KCO ")}),"/-"]}),(0,f.jsx)("hr",{className:"style-two"}),(0,f.jsx)(g.Z,{rating:e.product.rating}),(0,f.jsx)("div",{className:"overlay-box",children:(0,f.jsx)("div",{className:"inner d-flex justify-content-center align-items-center",children:(0,f.jsxs)("div",{className:"d-flex justify-content-around flex-column",children:[(0,f.jsx)("div",{children:(0,f.jsxs)(i.Z,{variant:"primary w-100",onClick:function(){j(e.product)},children:[(0,f.jsx)("img",{loading:"lazy",src:m.Z,alt:""})," Add To Cart"]})}),(0,f.jsx)("div",{className:"my-4",children:(0,f.jsx)(i.Z,{variant:"success p-2 w-100",onClick:function(){B(e.product),L(!S)},children:N?"Ordering...":"Buy Now"})}),(0,f.jsx)(i.Z,{variant:"outline-success w-100",onClick:function(){y("/agristore/product/"+e.product._id)},children:"View Details"})]})})})]})]})})}},9737:function(e,t,s){s.d(t,{Z:function(){return l}});var r=s(9439),n=s(2791),a=s(1087),c=s(1618),i=s(3938),o=s(184);function l(){var e=(0,a.lr)(),t=(0,r.Z)(e,2),s=t[0],l=t[1],d=(0,n.useState)(s.get("category")?s.get("category"):"all"),u=(0,r.Z)(d,2),h=u[0],m=u[1],p=(0,n.useContext)(i.Z),x=(p.showCart,p.fetchShopContent),g=(p.shopContent,p.setContent),f=(p.shopLoading,p.handleShow,p.categories),j=p.getCategories,v=p.setSkip;p.setCart,(0,c.a)().theme;(0,n.useEffect)((function(){x("",h)}),[h]),(0,n.useEffect)((function(){j(),m(s.get("category")?s.get("category"):"all")}),[]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("nav",{id:"sidebarMenu",className:"d-lg-block sidebar bg-white col-md-2 position-relative",children:(0,o.jsx)("div",{className:"side-position",children:(0,o.jsx)("div",{className:"list-group list-group-flush mx-3 mt-4",children:null===f||void 0===f?void 0:f.map((function(e,t){return(0,o.jsx)("li",{onClick:function(t){t.target.classList.add("active"),l({category:e.toLowerCase()}),m(e.toLowerCase()),g([]),v(0)},className:"list-group-item side-list ".concat(h===e.toLowerCase()?"active":""),children:e},t)}))})})})})}}}]);
//# sourceMappingURL=37.af70f246.chunk.js.map