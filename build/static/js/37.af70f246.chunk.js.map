{"version":3,"file":"static/js/37.af70f246.chunk.js","mappings":"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","sources":["pages/user/agristore/AgriNeeds.js","pages/user/agristore/Product.js","pages/user/agristore/SideBar.js"],"sourcesContent":["import React, { useContext, useEffect, useState }  from 'react'\r\nimport Button from 'react-bootstrap/esm/Button'\r\nimport Product from './Product'\r\nimport StoreContext from '../../../context/StoreContext'\r\nimport { Cart } from './Cart'\r\nimport SideBar from './SideBar'\r\nimport './AgriNeeds.css'\r\n\r\nimport { useSearchParams } from 'react-router-dom'\r\nimport { useUser } from '../../../context/UserContext'\r\nimport Loader from '../../../assets/loader/Loader'\r\n\r\n\r\nexport default function AgriNeeds() {\r\n\r\n  const [searchParams, setSearchParams] = useSearchParams()\r\n  const [activeStatus, setActiveStatus] = useState(searchParams.get(\"category\") ? searchParams.get(\"category\") : \"all\")\r\n\r\n  const { showCart, fetchShopContent, shopContent, setContent, shopLoading, handleShow, categories, getCategories, setSkip, setCart } = useContext(StoreContext)\r\n  const { theme } = useUser()\r\n\r\n  useEffect(() => {\r\n    // setLoading(true)\r\n    fetchShopContent(\"\", activeStatus)\r\n  }, [activeStatus])\r\n\r\n  useEffect(() => {\r\n    getCategories()\r\n    setActiveStatus(searchParams.get(\"category\") ? searchParams.get(\"category\") : \"all\")\r\n  }, [])\r\n\r\n  return (\r\n    <div className={`container-fluid theme-${theme}`}>\r\n      <div className='row'>\r\n        <SideBar />\r\n        <div className='col-md-10' >\r\n            <Cart show={showCart} handleShow={handleShow} shopContent={shopContent} />\r\n          <div className=\"row\">\r\n            {\r\n              shopContent?.map((product) => {\r\n                if (product.category.includes(activeStatus))\r\n                  return (\r\n                    <Product key={product._id} product={product} />\r\n                  )\r\n              })\r\n            }\r\n          </div>\r\n          <Button variant='warning my-3' onClick={() => { fetchShopContent(\"\", activeStatus) }} disabled={shopLoading}>{shopLoading ? \"Loading...\" : \"Load More\"}</Button>\r\n          {\r\n            shopLoading ?\r\n              <div className='d-flex w-100 justify-content-center align-items-center'>\r\n                <Loader height='200px' width='200px' />\r\n              </div>\r\n              :\r\n              <></>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext, useRef, useState } from 'react'\r\nimport './Product.css'\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport StoreContext from '../../../context/StoreContext';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport CurrencyIconComponent from '../../../assets/widgets/CurrencyIconComponent';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport shoppingCart from '../../../assets/icons/shopping_cart.svg'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Form from 'react-bootstrap/Form'\r\nimport StarRating from './StarRating';\r\n\r\nfunction Product(props) {\r\n    const { theme } = useUser()\r\n    const { addToCart, createOrder } = useContext(StoreContext)\r\n    const navigate = useNavigate()\r\n    const [disableBuy, setDisable] = useState(false)\r\n    const INR = new Intl.NumberFormat('en-IN', {\r\n        style: 'currency',\r\n        currency: 'INR',\r\n    });\r\n    // console.log(props)\r\n    const [openBuyModal, setShowBuyModal] = useState(false)\r\n    const [modalDetails, setModalDetails] = useState({})\r\n    const passwordRef = useRef()\r\n    function handleBuyModal() {\r\n        setShowBuyModal(!openBuyModal)\r\n    }\r\n\r\n\r\n    async function buyItem(e) {\r\n        e.preventDefault()\r\n        const productId = modalDetails._id\r\n        setDisable(true)\r\n        const res = await createOrder(productId, passwordRef.current.value)\r\n        if (res.error === false) {\r\n            toast.success(res.message, {\r\n                position: \"top-right\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                theme: \"light\",\r\n            });\r\n        }\r\n        setDisable(false)\r\n        setShowBuyModal(!openBuyModal)\r\n    }\r\n\r\n    // console.log(props.product)\r\n\r\n    return (\r\n        <>\r\n            <div className='col-md-6 col-xl-3 p-2'>\r\n                <Modal\r\n                    show={openBuyModal}\r\n                    onHide={handleBuyModal}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    size='md'\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Buy {modalDetails.title} for {modalDetails.price} KCO</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <Form onSubmit={buyItem} className='form-control'>\r\n                            <div className='d-flex flex-column justify-content-center align-items-center'>\r\n                                <fieldset className='m-1'>\r\n                                    <label htmlFor='passwordToPurchase'>Password</label><br />\r\n                                    <input id='passwordToPurchase' type='password' ref={passwordRef} required={true} />\r\n                                </fieldset>\r\n                                <div className=\"alert alert-warning\">\r\n                                    This action would deduct {modalDetails.price} KCO from your wallet.\r\n                                </div>\r\n                            </div>\r\n                            <div className='text-end'>\r\n                                <Button className='mx-2' variant=\"danger\" onClick={handleBuyModal}>\r\n                                    Cancel\r\n                                </Button>\r\n                                <Button className='my-3' type='submit' variant=\"success\" disabled={disableBuy} >{disableBuy ? \"Ordering...\" : \"Confirm Purchase\"}</Button>\r\n                            </div>\r\n                        </Form>\r\n                    </Modal.Body>\r\n                </Modal>\r\n\r\n                <ToastContainer\r\n                    position=\"top-right\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnFocusLoss={false}\r\n                    draggable\r\n                    pauseOnHover\r\n                    theme=\"light\"\r\n                />\r\n                <div className={`product-container h-100 shadow row flex-column justify-content-center theme-${theme}`}>\r\n                    <div className=\"star-product\" hidden={!props.product.recent}>Recently Watched</div>\r\n                    {\r\n                        (props.product.availableQuantity <= 5) ? <h5 className='text-danger qty-text'>Only {props.product.availableQuantity} left</h5>:''\r\n                    }\r\n                    <div onClick={() => { navigate(\"/agristore/product/\" + props.product._id) }} style={{ backgroundImage: `url(${props.product.imgUrl})` }} alt={props.product.title} className='product-image' />\r\n                    <h5 onClick={() => { navigate(\"/agristore/product/\" + props.product._id) }}>{props.product.title}</h5>\r\n                    <hr className='style-two' />\r\n\r\n                    \r\n                    <span>Price:<CurrencyIconComponent size='25' adjustY={'-10%'} /><span className=\"price\">{INR.format(props.product.price).replace(\"â‚¹\", \"KCO \")}</span>/-</span>\r\n                    <hr className='style-two' />\r\n                    <StarRating rating={props.product.rating} />\r\n                    <div className='overlay-box'>\r\n                        <div className='inner d-flex justify-content-center align-items-center'>\r\n                            <div className=\"d-flex justify-content-around flex-column\">\r\n                                <div>\r\n                                    <Button variant=\"primary w-100\" onClick={() => { addToCart(props.product) }}><img loading='lazy' src={shoppingCart} alt='' /> Add To Cart</Button>\r\n                                </div>\r\n                                <div className='my-4'>\r\n                                    <Button variant=\"success p-2 w-100\" onClick={() => {setModalDetails(props.product); setShowBuyModal(!openBuyModal)}}>{disableBuy ? \"Ordering...\" : \"Buy Now\"}</Button>\r\n                                </div>\r\n                                <Button variant=\"outline-success w-100\" onClick={() => { navigate(\"/agristore/product/\" + props.product._id) }}>View Details</Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Product","import React, {useContext, useEffect, useState} from 'react'\r\nimport  './SideBar.css'\r\nimport { Link, useSearchParams } from 'react-router-dom'\r\nimport {useUser} from '../../../context/UserContext'\r\nimport StoreContext from '../../../context/StoreContext'\r\n\r\n\r\nexport default function SideBar() {\r\n  const [searchParams, setSearchParams] = useSearchParams()\r\n  const [activeStatus, setActiveStatus] = useState(searchParams.get(\"category\") ? searchParams.get(\"category\") : \"all\")\r\n\r\n  const { showCart, fetchShopContent, shopContent, setContent, shopLoading, handleShow, categories, getCategories, setSkip, setCart } = useContext(StoreContext)\r\n  const { theme } = useUser()\r\n\r\n  useEffect(() => {\r\n    // setLoading(true)\r\n    fetchShopContent(\"\", activeStatus)\r\n  }, [activeStatus])\r\n  useEffect(() => {\r\n    getCategories()\r\n    setActiveStatus(searchParams.get(\"category\") ? searchParams.get(\"category\") : \"all\")\r\n  }, [])\r\n\r\n  const ResponsiveNav=()=>{\r\n    return (\r\n      <div className=\"options-bar d-flex align-items-center justify-content-between\">\r\n        <div className='d-flex align-items-center'>\r\n          <h5>Shop By:&nbsp;&nbsp;</h5>\r\n          <ul className='d-flex list-group list-group-horizontal'>\r\n          {\r\n                categories?.map((category, i) => {\r\n                  return (\r\n                    <li key={i} onClick={(e) => {\r\n                      e.target.classList.add(\"active\")\r\n                      setSearchParams({ category: category.toLowerCase() })\r\n                      setActiveStatus(category.toLowerCase())\r\n                      setContent([])\r\n                      setSkip(0)\r\n                    }} className={`list-group-item side-list ${activeStatus === category.toLowerCase() ? \"active\" : \"\"}`}>{category}</li>\r\n                  )\r\n                })\r\n              }\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    \r\n    <>\r\n    {/* <div className=\"options-bar d-flex align-items-center justify-content-between\">\r\n        <div className='d-flex align-items-center'>\r\n          <h5>Shop By:&nbsp;&nbsp;</h5>\r\n          <ul className='d-flex list-group list-group-horizontal'>\r\n          {\r\n                categories?.map((category, i) => {\r\n                  return (\r\n                    <li key={i} onClick={(e) => {\r\n                      e.target.classList.add(\"active\")\r\n                      setSearchParams({ category: category.toLowerCase() })\r\n                      setActiveStatus(category.toLowerCase())\r\n                      setContent([])\r\n                      setSkip(0)\r\n                    }} className={`list-group-item side-list ${activeStatus === category.toLowerCase() ? \"active\" : \"\"}`}>{category}</li>\r\n                  )\r\n                })\r\n              }\r\n          </ul>\r\n        </div>\r\n      </div> */}\r\n        <nav id=\"sidebarMenu\" className=\"d-lg-block sidebar bg-white col-md-2 position-relative\">\r\n          <div className=\"side-position\">\r\n            <div className=\"list-group list-group-flush mx-3 mt-4\">\r\n            {\r\n                categories?.map((category, i) => {\r\n                  return (\r\n                    <li key={i} onClick={(e) => {\r\n                      e.target.classList.add(\"active\")\r\n                      setSearchParams({ category: category.toLowerCase() })\r\n                      setActiveStatus(category.toLowerCase())\r\n                      setContent([])\r\n                      setSkip(0)\r\n                    }} className={`list-group-item side-list ${activeStatus === category.toLowerCase() ? \"active\" : \"\"}`}>{category}</li>\r\n                  )\r\n                })\r\n              }\r\n              \r\n            </div>\r\n          </div>\r\n        </nav>\r\n    </>\r\n  )\r\n}\r\n"],"names":["AgriNeeds","useSearchParams","searchParams","useState","get","activeStatus","setActiveStatus","useContext","StoreContext","showCart","fetchShopContent","shopContent","shopLoading","setContent","handleShow","getCategories","categories","theme","setSkip","setCart","useUser","useEffect","className","SideBar","Cart","show","map","product","category","includes","Product","_id","Button","variant","onClick","disabled","Loader","height","width","props","addToCart","createOrder","navigate","useNavigate","disableBuy","setDisable","INR","Intl","NumberFormat","style","currency","openBuyModal","setShowBuyModal","modalDetails","setModalDetails","passwordRef","useRef","handleBuyModal","e","preventDefault","productId","current","value","res","error","toast","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Modal","onHide","backdrop","keyboard","size","closeButton","title","price","Form","onSubmit","htmlFor","id","type","ref","required","newestOnTop","rtl","pauseOnFocusLoss","hidden","recent","availableQuantity","backgroundImage","imgUrl","alt","CurrencyIconComponent","adjustY","format","replace","StarRating","rating","loading","src","shoppingCart","setSearchParams","i","target","classList","add","toLowerCase"],"sourceRoot":""}