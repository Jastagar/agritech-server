"use strict";(self.webpackChunkagritech_client=self.webpackChunkagritech_client||[]).push([[996],{1329:function(e,s,t){t.r(s),t.d(s,{default:function(){return g}});var i=t(4165),r=t(5861),c=t(9439),n=t(2791),l=t(2830),a=t(1618),o=t(9085),d=t(8926),u=(t(194),t(6649)),h=(t(9737),t(2091)),m=t.p+"static/media/tag.b9a77cd6c61f6972c2ec.png",x=t.p+"static/media/logoFF.5ddda8339e7bd9817cc7.png",j=t.p+"static/media/rating.e19c2c4e219a01a434ec.png",p=t(184);function g(){var e=(0,n.useState)(!1),s=(0,c.Z)(e,2),t=s[0],g=s[1],f=(0,n.useState)(!1),v=(0,c.Z)(f,2),y=v[0],N=v[1],C=(0,n.useState)([{title:"<--Select--\x3e",category:"",_id:"select",quantity:"",estCost:""}]),w=(0,c.Z)(C,2),b=w[0],Z=w[1],O=(0,a.a)(),k=O.userData,K=O.currentUser,S=O.getUserData,P=(0,n.useContext)(d.Z),F=P.getUserInventory,B=P.inventory;(0,n.useEffect)((function(){K&&!k&&S(),k&&function(){H.apply(this,arguments)}()}),[K,k]);var T=function(){g(!1)};function z(){N(!y)}function H(){return(H=(0,r.Z)((0,i.Z)().mark((function e(){var s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:(s=e.sent).error&&o.Am.error(s.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(e){var s=e.setProd,t=e.product,i=e.hide;return(0,p.jsx)("div",{onClick:function(){s((function(e){return e.push(t),e})),i()},className:"row align-items-center p-3 m-0 border rounded custom-Options",children:(0,p.jsxs)("div",{className:"col-12 d-flex justify-content-between  inventory-drop",children:[(0,p.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[(0,p.jsx)("div",{children:(0,p.jsxs)("h4",{children:["Category : ",t.category]})}),(0,p.jsx)("div",{children:(0,p.jsxs)("h4",{children:["Item : ",t.item]})})]}),(0,p.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[(0,p.jsx)("div",{children:(0,p.jsxs)("h5",{children:["Quantity : ",t.quantity]})}),t.estCost&&(0,p.jsxs)("div",{children:[t.estCost," KCO"]})]})]})})};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:" row justify-content-around shadow  outer-prod",children:[(0,p.jsxs)("h2",{className:"col-md-8",children:[(0,p.jsx)("img",{loading:"lazy",src:x,alt:"",width:"20%"}),"  Buy Exclusive Products Direct From The Farms"]}),(0,p.jsx)("div",{className:"col-md-4 d-flex align-items-center",children:(0,p.jsx)("button",{onClick:function(){g(!0)},className:"btn btn-primary",children:"Add products from the inventory"})})]}),(0,p.jsxs)(l.Z,{show:t,onHide:T,children:[(0,p.jsx)(l.Z.Header,{children:(0,p.jsx)(l.Z.Title,{children:"Add Products from the Inventory"})}),(0,p.jsx)(l.Z.Body,{children:(0,p.jsx)("fieldset",{className:"w-100",children:(0,p.jsx)("div",{className:"form-control position-relative bg-success bg-opacity-10 custom-Options",name:"receiver",children:(0,p.jsxs)("div",{onClick:z,children:[(0,p.jsx)("div",{className:"row p-0 m-0 rounded ",children:(0,p.jsxs)("div",{className:"col-8 d-flex flex-column justify-content-center",children:[(0,p.jsx)("div",{children:b[0].title}),b[0].estCost&&(0,p.jsxs)("div",{children:[b[0].estCost," /-"]})]})}),y&&(0,p.jsx)("div",{className:"position-absolute border border-success rounded w-100 options-Bg",children:B.length>0?B.map((function(e,s){return(0,p.jsx)(I,{hide:z,setProd:Z,product:e},"cartSelectKey"+s)})):(0,p.jsx)("div",{className:"text-center",children:"---your inventory is Empty---"})})]})})})}),(0,p.jsx)(l.Z.Footer,{children:(0,p.jsx)("button",{onClick:T,className:"btn btn-success",children:"Close"})})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("nav",{id:"sidebarMenu",className:"d-lg-block sidebar bg-white col-md-2 position-relative",children:(0,p.jsx)("div",{className:"side-position",children:(0,p.jsxs)("div",{className:"list-group list-group-flush mx-3 mt-4",children:[(0,p.jsx)("li",{className:"list-group-item side-list active",children:"Category"}),(0,p.jsx)("li",{className:"list-group-item side-list ",children:"Fruits"}),(0,p.jsx)("li",{className:"list-group-item side-list ",children:"Vegetables"}),(0,p.jsx)("li",{className:"list-group-item side-list ",children:"Herbs & Seasoning"}),(0,p.jsx)("li",{className:"list-group-item side-list ",children:"Cuts & Sprouts"}),(0,p.jsx)("li",{className:"list-group-item side-list active",children:"Prices"}),(0,p.jsx)("li",{className:"list-group-item side-list ",children:"Less than 20 KCO"}),(0,p.jsx)("li",{className:"list-group-item side-list ",children:"21 KCO to 50 KCO"}),(0,p.jsx)("li",{className:"list-group-item side-list ",children:"51 KCO to 100 KCO"}),(0,p.jsx)("li",{className:"list-group-item side-list ",children:"101 KCO to 200 KCO"}),(0,p.jsx)("li",{className:"list-group-item side-list ",children:"201 KCO to 500 KCO"}),(0,p.jsx)("li",{className:"list-group-item side-list ",children:"More than 501 KCO"})]})})}),(0,p.jsx)("div",{className:"d-flex col-md-10 justify-content-around flex-wrap",children:B&&B.length>0?B.map((function(e,s){return(0,p.jsx)("div",{className:" product-container col-12 col-sm-10 border shadow p-3",children:(0,p.jsxs)("div",{className:"d-flex flex-wrap col-12 col-sm-10 justify-content-between",children:[(0,p.jsx)("div",{className:"col-12 col-sm-3",children:(0,p.jsx)("img",{loading:"lazy",src:u,width:"100%",alt:""})}),(0,p.jsxs)("div",{className:"d-flex col-10 col-sm-5 flex-column justify-content-center",children:[(0,p.jsx)("h5",{children:e.item}),(0,p.jsxs)("h5",{children:["(",e.category,")"]}),(0,p.jsx)("hr",{className:"style-two"}),(0,p.jsxs)("span",{children:["Price:",(0,p.jsx)(h.Z,{size:"30",adjustY:"-10%"}),"KCO ",e.estCost,"/-"]}),(0,p.jsxs)("div",{className:"text-danger",children:["Only ",e.quantity," left"]}),(0,p.jsx)("hr",{className:"style-two"})]}),(0,p.jsxs)("div",{className:"col-2 col-sm-2",children:[(0,p.jsx)("img",{loading:"lazy",src:m,alt:""}),(0,p.jsx)("br",{}),(0,p.jsx)("img",{loading:"lazy",src:j,alt:""})]})]})})})):(0,p.jsx)("h1",{children:"No items added"})})]})]})}},194:function(e,s,t){t.d(s,{Z:function(){return f}});var i=t(4165),r=t(5861),c=t(9439),n=t(2791),l=t(3360),a=t(7689),o=t(3938),d=t(1618),u=t(2091),h=t(9085),m=t(3001),x=t(2830),j=t(5313),p=t(6661),g=t(184);var f=function(e){var s=(0,d.a)().theme,t=(0,n.useContext)(o.Z),f=t.addToCart,v=t.createOrder,y=(0,a.s0)(),N=(0,n.useState)(!1),C=(0,c.Z)(N,2),w=C[0],b=C[1],Z=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}),O=(0,n.useState)(!1),k=(0,c.Z)(O,2),K=k[0],S=k[1],P=(0,n.useState)({}),F=(0,c.Z)(P,2),B=F[0],T=F[1],z=(0,n.useRef)();function H(){S(!K)}function I(){return(I=(0,r.Z)((0,i.Z)().mark((function e(s){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),t=B._id,b(!0),e.next=5,v(t,z.current.value);case 5:!1===(r=e.sent).error&&h.Am.success(r.message,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),b(!1),S(!K);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"col-md-6 col-xl-3 p-2",children:[(0,g.jsxs)(x.Z,{show:K,onHide:H,backdrop:"static",keyboard:!1,size:"md",children:[(0,g.jsx)(x.Z.Header,{closeButton:!0,children:(0,g.jsxs)(x.Z.Title,{children:["Buy ",B.title," for ",B.price," KCO"]})}),(0,g.jsx)(x.Z.Body,{children:(0,g.jsxs)(j.Z,{onSubmit:function(e){return I.apply(this,arguments)},className:"form-control",children:[(0,g.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,g.jsxs)("fieldset",{className:"m-1",children:[(0,g.jsx)("label",{htmlFor:"passwordToPurchase",children:"Password"}),(0,g.jsx)("br",{}),(0,g.jsx)("input",{id:"passwordToPurchase",type:"password",ref:z,required:!0})]}),(0,g.jsxs)("div",{className:"alert alert-warning",children:["This action would deduct ",B.price," KCO from your wallet."]})]}),(0,g.jsxs)("div",{className:"text-end",children:[(0,g.jsx)(l.Z,{className:"mx-2",variant:"danger",onClick:H,children:"Cancel"}),(0,g.jsx)(l.Z,{className:"my-3",type:"submit",variant:"success",disabled:w,children:w?"Ordering...":"Confirm Purchase"})]})]})})]}),(0,g.jsx)(h.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,g.jsxs)("div",{className:"product-container h-100 shadow row flex-column justify-content-center theme-".concat(s),children:[(0,g.jsx)("div",{className:"star-product",hidden:!e.product.recent,children:"Recently Watched"}),e.product.availableQuantity<=5?(0,g.jsxs)("h5",{className:"text-danger qty-text",children:["Only ",e.product.availableQuantity," left"]}):"",(0,g.jsx)("div",{onClick:function(){y("/agristore/product/"+e.product._id)},style:{backgroundImage:"url(".concat(e.product.imgUrl,")")},alt:e.product.title,className:"product-image"}),(0,g.jsx)("h5",{onClick:function(){y("/agristore/product/"+e.product._id)},children:e.product.title}),(0,g.jsx)("hr",{className:"style-two"}),(0,g.jsxs)("span",{children:["Price:",(0,g.jsx)(u.Z,{size:"25",adjustY:"-10%"}),(0,g.jsx)("span",{className:"price",children:Z.format(e.product.price).replace("\u20b9","KCO ")}),"/-"]}),(0,g.jsx)("hr",{className:"style-two"}),(0,g.jsx)(p.Z,{rating:e.product.rating}),(0,g.jsx)("div",{className:"overlay-box",children:(0,g.jsx)("div",{className:"inner d-flex justify-content-center align-items-center",children:(0,g.jsxs)("div",{className:"d-flex justify-content-around flex-column",children:[(0,g.jsx)("div",{children:(0,g.jsxs)(l.Z,{variant:"primary w-100",onClick:function(){f(e.product)},children:[(0,g.jsx)("img",{loading:"lazy",src:m.Z,alt:""})," Add To Cart"]})}),(0,g.jsx)("div",{className:"my-4",children:(0,g.jsx)(l.Z,{variant:"success p-2 w-100",onClick:function(){T(e.product),S(!K)},children:w?"Ordering...":"Buy Now"})}),(0,g.jsx)(l.Z,{variant:"outline-success w-100",onClick:function(){y("/agristore/product/"+e.product._id)},children:"View Details"})]})})})]})]})})}},9737:function(e,s,t){t.d(s,{Z:function(){return o}});var i=t(9439),r=t(2791),c=t(1087),n=t(1618),l=t(3938),a=t(184);function o(){var e=(0,c.lr)(),s=(0,i.Z)(e,2),t=s[0],o=s[1],d=(0,r.useState)(t.get("category")?t.get("category"):"all"),u=(0,i.Z)(d,2),h=u[0],m=u[1],x=(0,r.useContext)(l.Z),j=(x.showCart,x.fetchShopContent),p=(x.shopContent,x.setContent),g=(x.shopLoading,x.handleShow,x.categories),f=x.getCategories,v=x.setSkip;x.setCart,(0,n.a)().theme;(0,r.useEffect)((function(){j("",h)}),[h]),(0,r.useEffect)((function(){f(),m(t.get("category")?t.get("category"):"all")}),[]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("nav",{id:"sidebarMenu",className:"d-lg-block sidebar bg-white col-md-2 position-relative",children:(0,a.jsx)("div",{className:"side-position",children:(0,a.jsx)("div",{className:"list-group list-group-flush mx-3 mt-4",children:null===g||void 0===g?void 0:g.map((function(e,s){return(0,a.jsx)("li",{onClick:function(s){s.target.classList.add("active"),o({category:e.toLowerCase()}),m(e.toLowerCase()),p([]),v(0)},className:"list-group-item side-list ".concat(h===e.toLowerCase()?"active":""),children:e},s)}))})})})})}}}]);
//# sourceMappingURL=996.7493e3c9.chunk.js.map