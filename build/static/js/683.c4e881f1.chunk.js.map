{"version":3,"file":"static/js/683.c4e881f1.chunk.js","mappings":"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","sources":["pages/user/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { CampaignWidget, renderWidget } from '../../assets/widgets/Widgets'\r\nimport { useUser } from '../../context/UserContext'\r\nimport './Dashboard.css'\r\nimport { Helmet } from 'react-helmet'\r\nimport { useNavigate } from 'react-router'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Steps, Hints } from \"intro.js-react\";\r\nimport \"intro.js/introjs.css\";\r\n\r\n\r\nfunction Dashboard() {\r\n    const navigate = useNavigate()\r\n    const { currentUser, userData, theme, loading, getUserData, getUserCampaigns, userCampaigns } = useUser()\r\n\r\n    //Intro States\r\n    const [stepsEnabled, setStepsEnabled] = useState(sessionStorage.getItem('demo-completed') === \"true\" ? false : true)\r\n    const [initialStep] = useState(0)\r\n    const [steps] = useState([\r\n        {\r\n            element: \".welcome-user-intro\",\r\n            intro: \"Welcome User!\"\r\n        },\r\n        {\r\n            element: \".navigation-links-intro\",\r\n            intro: \"This navigation bar will help you go from one section to another within the AgriTech console.\"\r\n        },\r\n        {\r\n            element: \".profile-btn-intro\",\r\n            intro: \"Use this button to visit your profile.\"\r\n        },\r\n        {\r\n            element: \".all-widgets-container\",\r\n            intro: \"These are 'widgets' to help you see your actions on the platform.\"\r\n        },\r\n        {\r\n            element: \".balance-widget-intro\",\r\n            intro: \"This widget tracks your Kissan Coin balance.\"\r\n        },\r\n        {\r\n            element: \".balance-widget-amount-intro\",\r\n            intro: \"This is the total amount of KCOs available for use on the platform.\"\r\n        },\r\n        {\r\n            element: \".balance-widget-chart-intro\",\r\n            intro: \"This graph shows the change in wallet balance with time. Hover over the highlighted points to see the transaction date. This helps you track any unusual activity at a glance.\"\r\n        },\r\n        {\r\n            element: \".current-inventory-intro\",\r\n            intro: \"This widget tracks your inventory items and total inventory cost. Inventory can be managed under the <i>'Management'</i> section.\"\r\n        },\r\n        {\r\n            element: \".current-pipeline-intro\",\r\n            intro: \"This widget tracks your currently sown crops if any plan is currently in execution.\"\r\n        },\r\n        {\r\n            element: \".transaction-history-intro\",\r\n            intro: \"Use this widget to view a brief summary of recent transactions.\"\r\n        },\r\n        {\r\n            element: \".contribution-history-intro\",\r\n            intro: \"Use this widget to view a brief summary of recent contributions in different campaigns.\"\r\n        },\r\n        {\r\n            element: \".recent-campaign-intro\",\r\n            intro: \"This widget contains information about your most recent campaign.\"\r\n        },\r\n        {\r\n            element: \".translate-intro\",\r\n            intro: \"Use this button to translate the AgriTech console in your prefered language.\"\r\n        },\r\n        {\r\n            element: \".logout-intro\",\r\n            intro: \"Use this button to Logout from the AgriTech console.\"\r\n        },\r\n        {\r\n            element: \"iframe#chatbot-chat-frame\",\r\n            intro: \"This is the AgriHelp chatbot. Use this to get help from a AgriTech Customer Executive.\"\r\n        },\r\n        {\r\n            element: \".replay-demo-intro\",\r\n            intro: \"To replay this demo anytime, just click this button\"\r\n        }\r\n    ])\r\n    const [hints] = useState([\r\n        {\r\n            element: \".hello\",\r\n            hint: \"Hello hint\",\r\n            hintPosition: \"middle-right\"\r\n        }\r\n    ])\r\n    const [hintsEnabled] = useState(true)\r\n\r\n    const [campaignWidget, setCampaignWidget] = useState()\r\n    const [widgets, setWidgets] = useState([\r\n        {\r\n            category: \"inventory\",\r\n            id: \"current-inventory\"\r\n        },\r\n        {\r\n            title: \"Crops Sown\",\r\n            id: \"current-pipeline\"\r\n        },\r\n        {\r\n            title: \"Transaction History\",\r\n            id: \"transaction-history\"\r\n        },\r\n        {\r\n            title: \"Contribution History\",\r\n            id: \"contribution-history\"\r\n        }\r\n    ])\r\n\r\n    useEffect(() => {\r\n        if (!userData) getUserData()\r\n        if (userCampaigns) {\r\n            setCampaignWidget(userCampaigns.reverse()[0])\r\n        }\r\n        else {\r\n            getUserCampaigns()\r\n        }\r\n    }, [currentUser, userCampaigns])\r\n\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>Dashboard | AgriTech</title>\r\n            </Helmet>\r\n            <Steps\r\n                enabled={stepsEnabled}\r\n                steps={steps}\r\n                initialStep={initialStep}\r\n                onExit={() => {\r\n                    setStepsEnabled(false)\r\n                    sessionStorage.setItem('demo-completed', \"true\")\r\n                }}\r\n            />\r\n            <Hints enabled={hintsEnabled} hints={hints} />\r\n\r\n            <div className={`dashboard-container px-3 theme-${theme}`}>\r\n                <div className='welcome-user w-100 justify-content-between d-flex'>\r\n                    <h2 className='welcome-user-intro'>Welcome, {userData?.name}! </h2>\r\n                    <div>\r\n                        <Button className='profile-btn-intro m-2' onClick={() => navigate(\"/profile\")}>Go to profile</Button>\r\n                        <Button className='replay-demo-intro m-2' onClick={() => setStepsEnabled(true)}>Enable Demo</Button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"all-widgets-container row\">\r\n                    <div className='col-md-6 col-lg-8 col-xl-4 p-3 balance-widget-intro'>\r\n                        <div className=\"widget balance-widget\">\r\n                            {renderWidget('wallet-balance')}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {\r\n                        widgets.map((widget, key) => {\r\n                            return (\r\n                                <div key={\"DASHBOARD_WIDGETS_\" + key} className={`col-md-6 col-lg-4 col-xl-4 p-3 ${widget.id}-intro`}>\r\n                                    <div className={`widget ${loading ? \"skeleton-widget\" : \"\"}`} >\r\n                                        {\r\n                                            loading ? <></> :\r\n                                                <>\r\n                                                    {renderWidget(widget.id, widget.data)}\r\n                                                </>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    <div className=\"col-md-4 col-xl-4 p-3 recent-campaign-intro\">\r\n                        <div className='widget'>\r\n                            <CampaignWidget title={campaignWidget?.title} target={campaignWidget?.target} _id={campaignWidget?._id} contributors={campaignWidget?.contributors} deadline={campaignWidget?.deadline} dateCreated={campaignWidget?.dateCreated} />\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Dashboard"],"names":["navigate","useNavigate","useUser","currentUser","userData","theme","loading","getUserData","getUserCampaigns","userCampaigns","useState","sessionStorage","getItem","stepsEnabled","setStepsEnabled","initialStep","element","intro","steps","hint","hintPosition","hints","hintsEnabled","campaignWidget","setCampaignWidget","category","id","title","widgets","useEffect","reverse","enabled","onExit","setItem","className","name","onClick","renderWidget","map","widget","key","data","target","_id","contributors","deadline","dateCreated"],"sourceRoot":""}