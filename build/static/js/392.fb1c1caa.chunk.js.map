{"version":3,"file":"static/js/392.fb1c1caa.chunk.js","mappings":"qRA2HA,MAhHA,WACI,IAAMA,GAAQC,EAAAA,EAAAA,UACRC,GAAWD,EAAAA,EAAAA,UACjB,GAA8BE,EAAAA,EAAAA,WAAS,GAAM,eAAtCC,EAAO,KAAEC,EAAU,KAC1B,GAA4BF,EAAAA,EAAAA,UAASG,GAAQ,eAAtCC,EAAM,KAAEC,EAAS,KACxB,GAA8BL,EAAAA,EAAAA,UAAS,YAAW,eAA3CM,EAAO,KAAEC,EAAU,KAa1B,GAAyBC,EAAAA,EAAAA,KAAjBC,EAAK,EAALA,MAAOC,EAAK,EAALA,MAEY,aAmC1B,OAnC0B,0BAA3B,WAA4BC,GAAC,4EAMxB,OALDA,EAAEC,iBACFV,GAAW,GACLW,EAAc,CAChBhB,MAAOA,EAAMiB,QAAQC,MACrBhB,SAAUA,EAASe,QAAQC,OAC9B,kBAESL,EAAMG,GAAY,OACxBG,EAAAA,GAAAA,QAAc,oBAAqB,CAC/BC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,EACVf,MAAO,UACR,gDAEHO,EAAAA,GAAAA,MAAY,4BAA6B,CACrCC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,EACVf,MAAO,UAEXgB,QAAQC,IAAI,aACZxB,GAAW,GAAM,QAErBuB,QAAQC,IAAI,aACZxB,GAAW,GAAM,0DACpB,sBAED,OACI,iCACI,SAACyB,EAAA,EAAM,WACH,2BAAO,wBAEX,SAAC,KAAc,CACXV,SAAS,YACTC,UAAW,IACXC,iBAAiB,EACjBS,aAAa,EACbR,cAAY,EACZS,KAAK,EACLC,kBAAkB,EAClBR,WAAS,EACTD,cAAY,EACZZ,MAAM,WAEV,4BACI,gBAAKsB,UAAU,cACf,gBAAKA,UAAU,gBACf,iBAAKA,UAAS,+CAA0CtB,GAAQ,WAC5D,wBAAI,WAEJ,gBAAKsB,UAAU,6BAA4B,UACvC,kBAAMA,UAAU,WAAWC,SAAU,SAACrB,GAAC,OA/DzB,SAEN,GAAD,+BA6DqCsB,CAAatB,EAAE,EAAEuB,GAAG,QAAO,WACnE,kBAAOC,IAAKtC,EAAOkC,UAAU,eAAeK,YAAY,QAAQC,KAAK,QAAQH,GAAG,QAAQI,UAAQ,KAAG,mBACnG,iBAAKP,UAAU,oBAAmB,WAAC,kBAAOI,IAAKpC,EAAUgC,UAAU,eAAeK,YAAY,WAAWC,KAAM/B,EAAS4B,GAAG,WAAWI,UAAQ,KAAG,gBAAKrC,QAAQ,OAAOsC,IAAKnC,EAAQ2B,UAAU,UAAUS,IAAI,GAAGC,QA5ElN,WACXrC,IAAWD,GACXE,EAAUqC,GACVnC,EAAW,UAGXF,EAAUF,GACVI,EAAW,YAEnB,QAoEwB,kBAAOwB,UAAU,kCAAkCM,KAAK,SAAStB,MAAOd,EAAU,iBAAmB,QAAS0C,SAAU1C,UAGhI,4BAAM,kBAAc,SAAC,KAAI,CAAC2C,GAAG,UAAUb,UAAU,cAAa,SAAC,sBAAwB,cACvF,gBAAKG,GAAG,cACJ,iBAAe,2EACf,eAAa,SACb,eAAa,QACb,iBAAe,sCACf,aAAW,GACX,mBAAiB,UAGrB,gBAAKH,UAAU,cACX,YAAU,WACV,aAAW,cACX,aAAW,UACX,YAAU,gBACV,YAAU,QACV,sBAAoB,iBAO5C,C","sources":["pages/public/Login.js"],"sourcesContent":["import React, { useRef, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { useUser } from '../../context/UserContext'\r\nimport './Login.css'\r\nimport eyeClose from '../../assets/icons/eyes-closed.png'\r\nimport eyeOpen from '../../assets/icons/eyes-open.png'\r\nimport { ToastContainer, toast } from 'react-toastify'\r\nimport Helmet from 'react-helmet'\r\n\r\nfunction Login() {\r\n    const email = useRef()\r\n    const password = useRef()\r\n    const [loading, setLoading] = useState(false)\r\n    const [pwdSrc, setPwdSrc] = useState(eyeOpen)\r\n    const [pwdType, setPwdType] = useState('password')\r\n\r\n    const changeIcon = () => {\r\n        if (pwdSrc === eyeOpen) {\r\n            setPwdSrc(eyeClose)\r\n            setPwdType('text')\r\n        }\r\n        else {\r\n            setPwdSrc(eyeOpen)\r\n            setPwdType('password')\r\n        }\r\n    }\r\n\r\n    const { theme, login } = useUser()\r\n\r\n    async function processLogin(e) {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n        const credentials = {\r\n            email: email.current.value,\r\n            password: password.current.value\r\n        }\r\n        try {\r\n            await login(credentials)\r\n            toast.success(\"Login Successful!\", {\r\n                position: \"top-right\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                theme: \"light\",\r\n            });\r\n        } catch (e) {\r\n            toast.error(\"Invalid Email or Password\", {\r\n                position: \"top-right\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                theme: \"light\",\r\n            });\r\n            // console.log(\"after try\")\r\n            setLoading(false)\r\n        }\r\n        // console.log(\"after try\")\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>Login | AgriTech</title>\r\n            </Helmet>\r\n            <ToastContainer\r\n                position=\"top-right\"\r\n                autoClose={5000}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss={false}\r\n                draggable\r\n                pauseOnHover\r\n                theme=\"light\"\r\n            />\r\n            <div>\r\n                <div className=\"bg-login\"></div>\r\n                <div className=\"bg-overlay\"></div>\r\n                <div className={`p-5 text-light login-container theme-${theme}`}>\r\n                    <h1>LOGIN</h1>\r\n                    {/* <div className=\"error-message\" hidden={!error}>{error}</div> */}\r\n                    <div className='row justify-content-center'>\r\n                        <form className='col-md-3' onSubmit={(e) => processLogin(e)} id=\"login\">\r\n                            <input ref={email} className='form-control' placeholder='Email' type=\"email\" id=\"email\" required /><br />\r\n                            <div className='position-relative'><input ref={password} className='form-control' placeholder='Password' type={pwdType} id=\"password\" required /><img loading='lazy' src={pwdSrc} className='eye-icn' alt='' onClick={changeIcon} /></div>\r\n                            <input className='form-input btn btn-success my-3' type=\"submit\" value={loading ? \"Please Wait...\" : \"Login\"} disabled={loading} />\r\n                        </form>\r\n                    </div>\r\n                    <span>Not a member? <Link to=\"/signup\" className='text-light '>Create an account</Link> today!</span>\r\n                    <div id=\"g_id_onload\"\r\n                        data-client_id=\"989520179418-ho72odl9i1ilvdclti8gag7cpfc991st.apps.googleusercontent.com\"\r\n                        data-context=\"signup\"\r\n                        data-ux_mode=\"popup\"\r\n                        data-login_uri=\"https://35.192.7.28/api/auth/signup\"\r\n                        data-nonce=\"\"\r\n                        data-itp_support=\"true\">\r\n                    </div>\r\n\r\n                    <div className=\"g_id_signin\"\r\n                        data-type=\"standard\"\r\n                        data-shape=\"rectangular\"\r\n                        data-theme=\"outline\"\r\n                        data-text=\"continue_with\"\r\n                        data-size=\"large\"\r\n                        data-logo_alignment=\"left\">\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login"],"names":["email","useRef","password","useState","loading","setLoading","eyeOpen","pwdSrc","setPwdSrc","pwdType","setPwdType","useUser","theme","login","e","preventDefault","credentials","current","value","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","console","log","Helmet","newestOnTop","rtl","pauseOnFocusLoss","className","onSubmit","processLogin","id","ref","placeholder","type","required","src","alt","onClick","eyeClose","disabled","to"],"sourceRoot":""}